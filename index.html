<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4 u</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-size: 1000px;
            background-image: url("https://www.psdgraphics.com/wp-content/uploads/2022/01/white-math-paper-texture.jpg");
            background-position: center center;
        }

        .paper {
            background-image: url("https://i0.wp.com/textures.world/wp-content/uploads/2018/10/2-Millimeter-Paper-Background-copy.jpg?ssl=1");
            background-size: 500px;
            background-position: center center;
            padding: 20px 100px;
            transform: rotateZ(-5deg);
            box-shadow: 1px 15px 20px 0px rgba(0, 0, 0, 0.5);
            position: absolute;
            cursor: grab;
            touch-action: pan-y;
        }

        .paper.heart {
            position: relative;
            width: 200px;
            height: 200px;
            padding: 0;
            border-radius: 50%;
        }

        .paper.image {
            padding: 10px;
        }

        .paper.image p {
            font-size: 30px;
            font-family: 'Zeyada';
            color: rgb(0, 0, 100);
            opacity: 0.75;
            user-select: none;
        }

        img {
            max-height: 200px;
            width: 100%;
            user-select: none;
        }

        .paper.heart::after {
            content: "";
            background-image: url('https://cdn.pixabay.com/photo/2016/03/31/19/25/cartoon-1294994__340.png');
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            background-size: 150px;
            background-position: center center;
            background-repeat: no-repeat;
            opacity: 0.6;
        }

        p {
            font-family: 'Zeyada';
            font-size: 50px;
            color: rgb(0, 0, 100);
            opacity: 0.75;
            user-select: none;
        }
    </style>
</head>
<body>

<div class="paper heart"></div>
<div class="paper image">
    <p>Look at your face </p>
    <p>your smile looks adorable. üòç </p>
    <img src="images/1.jpg" alt="Romantic Photo 1">
</div>
<div class="paper image">
    <p></p>
    <img src="images/2.jpg" alt="Romantic Photo 2">
</div>
<div class="paper image">
    <p>How can be </p>
    <p> someone so cute ‚ù§Ô∏è </p>
    <img src="images/4.jpg" alt="Romantic Photo 3">
</div>
<div class="paper red">
    <p class="p1"> and My Favorite</p>
    <p class="p2">Person üòç</p>
</div>
<div class="paper">
    <p class="p1">You are Cute and</p>
    <p class="p1">Amazing <span style="color: red !important;">‚ù§Ô∏è</span></p>
</div>
<div class="paper">
    <p class="p1">Drag the papers to move!</p>
</div>

<script>
    let highestZ = 1;

    class Paper {
        holdingPaper = false;
        touchStartX = 0;
        touchStartY = 0;
        touchMoveX = 0;
        touchMoveY = 0;
        touchEndX = 0;
        touchEndY = 0;
        prevTouchX = 0;
        prevTouchY = 0;
        velX = 0;
        velY = 0;
        rotation = Math.random() * 30 - 15;
        currentPaperX = 0;
        currentPaperY = 0;
        rotating = false;

        init(paper) {
            paper.addEventListener('touchmove', (e) => {
                e.preventDefault();
                if (!this.rotating) {
                    this.touchMoveX = e.touches[0].clientX;
                    this.touchMoveY = e.touches[0].clientY;

                    this.velX = this.touchMoveX - this.prevTouchX;
                    this.velY = this.touchMoveY - this.prevTouchY;
                }

                const dirX = e.touches[0].clientX - this.touchStartX;
                const dirY = e.touches[0].clientY - this.touchStartY;
                const dirLength = Math.sqrt(dirX * dirX + dirY * dirY);
                const dirNormalizedX = dirX / dirLength;
                const dirNormalizedY = dirY / dirLength;

                const angle = Math.atan2(dirNormalizedY, dirNormalizedX);
                let degrees = (180 * angle) / Math.PI;
                degrees = (360 + Math.round(degrees)) % 360;

                paper.style.transform = `translate(${this.currentPaperX}px, ${this.currentPaperY}px) rotate(${degrees + this.rotation}deg)`;

                this.prevTouchX = this.touchMoveX;
                this.prevTouchY = this.touchMoveY;
            });

            paper.addEventListener('touchstart', (e) => {
                this.holdingPaper = true;
                this.rotating = false;
                this.touchStartX = e.touches[0].clientX;
                this.touchStartY = e.touches[0].clientY;
                this.prevTouchX = this.touchStartX;
                this.prevTouchY = this.touchStartY;
            });

            paper.addEventListener('touchend', () => {
                this.holdingPaper = false;
                this.rotating = false;
            });

            paper.addEventListener('mousedown', (e) => {
                e.preventDefault();
                this.holdingPaper = true;
                this.rotating = false;
                this.touchStartX = e.clientX;
                this.touchStartY = e.clientY;
                this.prevTouchX = this.touchStartX;
                this.prevTouchY = this.touchStartY;

                window.addEventListener('mousemove', this.handleMouseMove);
                window.addEventListener('mouseup', this.handleMouseUp);
            });

            this.currentPaperX = Math.random() * window.innerWidth * 0.6 + window.innerWidth * 0.2;
            this.currentPaperY = Math.random() * window.innerHeight * 0.6 + window.innerHeight * 0.2;
            paper.style.transform = `translate(${this.currentPaperX}px, ${this.currentPaperY}px) rotate(${this.rotation}deg)`;
            paper.style.zIndex = highestZ;
            highestZ++;

            setInterval(() => {
                if (!this.holdingPaper) {
                    this.currentPaperX += this.velX / 2;
                    this.currentPaperY += this.velY / 2;

                    paper.style.transform = `translate(${this.currentPaperX}px, ${this.currentPaperY}px) rotate(${this.rotation}deg)`;
                }
            }, 30);
        }
    }

    const papers = document.querySelectorAll('.paper');
    papers.forEach((paper) => {
        const newPaper = new Paper();
        newPaper.init(paper);
    });

    window.addEventListener('resize', () => {
        papers.forEach((paper) => {
            const newPaper = new Paper();
            newPaper.init(paper);
        });
    });
</script>

</body>
</html>
